<div class="cases-container" *ngIf="cases.length > 0; else noCases">
  <h2 class="cases-header">Liste over sager</h2>
  <button class="back-button" (click)="goBack()">Log ud</button>
  <div class="case-box" *ngFor="let caseItem of cases">
    <h3 class="case-id">Sag ID: {{ caseItem.id }}</h3>
    <div class="case-details">
      <p><strong>Navn + mail:</strong> {{ caseItem.customerName }}</p>
      <p><strong>Udstyr:</strong> {{ caseItem.equipmentType }}</p>
      <p><strong>Beskrivelse:</strong> {{ caseItem.problemDescription }}</p>
      <p><strong>Oprettet:</strong> {{ caseItem.creationDate | date: 'dd-MM-yyyy' }}</p>
      <p>
        <strong>Forventet Levering:</strong>
        {{ caseItem.expectedDeliveryDate ? (caseItem.expectedDeliveryDate | date: 'dd-MM-yyyy') : 'Ikke angivet' }}
      </p>
      <p><strong>Prioritet:</strong> {{ caseItem.priority }}</p>
      <p><strong>Tekniker:</strong> {{ caseItem.assignedTechnician }}</p>
      <p><strong>Status:</strong>
        <span *ngIf="!caseItem.isEditing">{{ caseItem.status }}</span>
        <select *ngIf="caseItem.isEditing" [(ngModel)]="caseItem.status">
          <option *ngFor="let status of statusOptions" [value]="status">{{ status }}</option>
        </select>
      </p>
    </div>
    <div class="case-actions">
      <button *ngIf="!caseItem.isEditing" (click)="editCase(caseItem)">Rediger</button>
      <button *ngIf="caseItem.isEditing" (click)="saveCase(caseItem)">Gem</button>
      <button *ngIf="caseItem.isEditing" (click)="cancelEdit(caseItem)">Annuller</button>
      <button (click)="deleteCase(caseItem.id)" class="afslut-knap">Afslut Sag</button>
    </div>
  </div>
</div>

<ng-template #noCases>
  <p>Ingen sager fundet.</p>
</ng-template>
